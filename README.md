
# Анализатор ключевых слов с пороговой проверкой

**Проект для анализа текста на упоминание слов/фраз из заданных списков с учетом всех грамматических форм** . Использует лемматизацию через [pymystem3](https://github.com/nlpub/pymystem3) для приведения слов к начальной форме и проверяет превышение суммарного количества совпадений заданного порога.

---

>⚠️ **Важное предупреждение**  
> При установке `pymystem3` автоматически скачивается исполняемый файл `mystem.exe` (для Windows). Это может нарушать политики безопасности систем с ограничениями на использование сторонних бинарников .

---

## Как использовать uv project

1. Установить `uv`
2. Установить зависимости ``
``


## Структура проекта

### 1. **`main.py`**  
**Назначение**:  
Точка входа в программу. Загружает списки ключевых слов из JSON, выполняет анализ текста и выводит результаты с проверкой пороговых значений .

**Зависимости**:  
- `pymystem3` (лемматизация)  
- `tqdm` (отображение прогресса)  
- `word_mention.py` (логика анализа)  
- `word_lists_20250414.json` (тематические списки)  

**Как использовать**:  
```bash
pip install pymystem3 tqdm
python main.py
```

**Пример вывода main.py**

для `test_text2 = 'Текст с коррупцией и махинацией'`:  
```
Лемматизация текста...
Лемматизация текста выполнена! (0.8265140056610107 с.)
Обработка слов из списка: 100%|██████████| 68/68 [00:54<00:00,  1.25it/s]
Совпавшие слова: ['Коррупция', 'Махинация']
Всего совпавших слов: 2
Уникальных совпавших слов: 2
```

---

### 2. **`word_mention.py`**  
**Назначение**:  
Содержит функцию `check_words_from_list`, которая:  
- Лемматизирует текст через `Mystem`   
- Проверяет вхождение слов/фраз из списков (включая многословные конструкции)   
- Возвращает счетчики совпадений для каждого списка и общий результат по порогу   

**Особенности**:  
- **Вложенные прогресс-бары**: Отображают прогресс обработки списков и отдельных слов  
- **Лемматизация фраз**: Словосочетания разбиваются на леммы (например, "НСПК" → "национальный система платежный карта")   
- **Замер времени**: Показывает длительность лемматизации текста  

---

### 3. **`word_lists_20250414.json`**  
**Структура**:  
```json
[
  ["Коррупция", "Взятка", "Откат", ...],  // Список 1: коррупционные схемы
  ["НСПК", "СБП", "ПС МИР", ...]         // Список 2: платежные системы
]
```

**Назначение**:  
Хранит тематические списки для анализа текста на упоминания коррупции и финансовых систем .

---

## Примечания
- Все файлы должны находиться в одной директории  
- Для работы `Mystem` требуется первичная загрузка лингвистических данных (выполняется автоматически)   
- Тестовый текст в `main.py` можно заменить на любой другой для анализа   
``` 
